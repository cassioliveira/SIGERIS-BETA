<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                template="/WEB-INF/templates/Layout.xhtml"> 

    <f:metadata>
        <f:viewParam name="room" value="#{roomBean.room}"/>
    </f:metadata>

    <ui:define name="content">
        <h:form id="formCacastreRoom">
            <p:growl id="messages" autoUpdate="true"/>

            <p:fieldset legend="#{roomBean.editing ? 'Alterar dados da sala' : 'Cadastrar nova sala'}" >

                <h:panelGrid columns="3" frame="below" style="margin-bottom: 3px">
                    <p:selectBooleanCheckbox id="computer" itemLabel="#{msg.computer}" value="#{roomBean.room.computer}"/>
                    <p:selectBooleanCheckbox id="internet" itemLabel="#{msg.internet}" value="#{roomBean.room.internet}"/>
                    <p:selectBooleanCheckbox id="sound" itemLabel="#{msg.sound}" value="#{roomBean.room.sound}"/>
                    <h:panelGroup>
                        <p:selectBooleanCheckbox id="dvd" itemLabel="#{msg.dvd}" value="#{roomBean.room.dvd}" style="margin-right: 3px"/>
                        <p:selectBooleanCheckbox id="tv" itemLabel="#{msg.tv}" value="#{roomBean.room.tv}"/>
                    </h:panelGroup>
                    <p:selectBooleanCheckbox id="datashow" itemLabel="#{msg.datashow}" value="#{roomBean.room.datashow}" />
                    <p:selectBooleanCheckbox id="board" itemLabel="#{msg.board}" value="#{roomBean.room.board}" style="margin-right: 3px"/>
                    <p:selectBooleanCheckbox id="fan" itemLabel="#{msg.fan}" value="#{roomBean.room.fan}"/>
                    <p:selectBooleanCheckbox id="microphone" itemLabel="#{msg.microphone}" value="#{roomBean.room.microphone}"/>
                    <p:selectBooleanCheckbox id="airConditioning" itemLabel="#{msg.airConditioning}" value="#{roomBean.room.airConditioning}"/>
                </h:panelGrid>

                <h:panelGrid columns="2">
                    <h:panelGroup>
                        <p:outputLabel for="roomType" value="#{msg.roomType}: " style="margin-right: 42px;"/>
                        <p:selectOneMenu id="roomType" value="#{roomBean.room.type}" required="true" requiredMessage="#{msg.mandatoryRoomType}">
                            <f:selectItem itemLabel="#{msg.selectIt}..." noSelectionOption="true"/>
                            <f:selectItems value="#{roomBean.roomTypes}" var="roomTypes" itemLabel="#{roomTypes.description}" itemValue="#{roomTypes}"/>
                        </p:selectOneMenu>
                    </h:panelGroup>

                    <p:spinner id="capacity" value="#{roomBean.room.capacity}" converterMessage="#{msg.fieldOnlyAcceptsNumber}" size="10" 
                               placeholder="#{msg.capacity}" min="0" title="#{msg.typeOrClickButtons}">
                        <f:convertNumber integerOnly="true" type="number"/>
                    </p:spinner>
                </h:panelGrid>

                <h:panelGrid columns="4">

                    <p:outputLabel for="number" value="#{msg.nameOrNumber}: " style="margin-right: 9px"/>
                    <p:inputText id="number" value="#{roomBean.room.number}" maxlength="20" required="true" disabled="#{roomBean.editing}"
                                 requiredMessage="#{msg.mandatoryRoomNumber}" style="margin-bottom: 3px; width: 208px"/>
                    <p:outputLabel/>
                    <p:outputLabel/>
                    <!--</h:panelGrid>-->

                    <p:outputLabel for="description" value="#{msg.description}: " style="margin-right: 17px;"/>
                    <p:inputTextarea id="description" rows="3" cols="32" maxlength="255" value="#{roomBean.room.description}"
                                     autoResize="false" counter="counterDescription" counterTemplate="{0} #{msg.charactersLeft}"/>
                    <h:outputLabel/>
                    <h:outputLabel/>
                    <p:outputLabel/>
                    <p:outputLabel id="counterDescription" style="font-size: 12px;"/>
                    <p:outputLabel/>
                    <p:outputLabel/>

                    <p:outputLabel for="observations" value="#{msg.observations}: "/>
                    <p:inputTextarea id="observations" rows="5" cols="32" maxlength="400" value="#{roomBean.room.observations}"
                                     autoResize="false" counter="counterDescription2" counterTemplate="{0} #{msg.charactersLeft}"/>
                    <h:outputLabel/>
                    <h:outputLabel/>
                    <p:outputLabel/>
                    <p:outputLabel id="counterDescription2" style="font-size: 12px;"/>
                </h:panelGrid>

                <p:toolbar id="panelButtonsConsult" style="margin-top: 10px;">
                    <f:facet name="left">
                        <p:commandButton style="font-size: 13px;" value="#{roomBean.editing ? msg.change :msg.save}" action="#{roomBean.save}"  
                                         id="saveButton" update="@form" icon="ui-icon ui-icon-disk"/>
                        
                        <p:button style="font-size: 13px;" value="#{msg.cancel}" 
                                  id="deleteButton" outcome="/Agendador/sala/listar-salas" icon="fa fa-times" rendered="#{roomBean.editing}">
                        </p:button>
                    </f:facet>    

                    <f:facet name="right">
                        <p:button value="#{msg.search}" id="newRegister" outcome="/Agendador/sala/listar-salas" 
                                  icon="ui-icon ui-icon-pencil"/>
                    </f:facet>
                </p:toolbar> 
            </p:fieldset>
            <p:blockUI id="blockRoomForm" block="formCacastreRoom" trigger="saveButton">
                <p:graphicImage library="images" name="loading.gif"/>
            </p:blockUI>
        </h:form>

    </ui:define>

</ui:composition>
