<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">


    <!--    Página que define quais papeis serão atribuidos a um conjunto de 
    limitações de acesso às telas da camada de apresentação. Para que pudesse 
    ser atribuido mais de um papel para determinado recurso, foi necessário a 
    utilização de um componente do JSTL (c:set) para aceitar as condições de 
    uso do método isUserInRole(), responsável por receber o papel informado e 
    retornar true  ou false caso o usuário logado tivesse a permissão de acesso 
    adequada, respectivamente.-->

    <div class="menu">
        <ui:insert name="menu">
            <h:form>
                
                <c:set var="godMode" value="#{request.isUserInRole('ADMINISTRADORES')}" scope="request"/> 

                <c:set var="schedulerChanger" value="#{request.isUserInRole('ADMINISTRADORES') or 
                                                      request.isUserInRole('SECRETARIAS') or 
                                                      request.isUserInRole('COORDENADORES') or 
                                                      request.isUserInRole('DIRECAO')}" scope="request"/> 
                
                <c:set var="scheduleViewer" value="#{request.isUserInRole('VIGILANTES') or 
                                                      request.isUserInRole('TERCEIRIZADOS') or 
                                                      request.isUserInRole('BIBLIOTECA')}" scope="request"/>
            </h:form>
        </ui:insert>
    </div>

</html>
